?addCircles
knitr::opts_chunk$set(echo = FALSE)
source('dataSetup.R')
library(leaflet)
?addCircles
?leaflet
library(help='leaflet')
#Get US daily report data---------------
files<-list.files('./csse_covid_19_data/csse_covid_19_daily_reports_us/')
files
#Get US daily report data---------------
files<-list.files('./csse_covid_19_data/csse_covid_19_daily_reports_us/',
patter='.csv')
#Get US daily report data---------------
files<-list.files('./csse_covid_19_data/csse_covid_19_daily_reports_us/',
pattern='.csv')
#Get US daily report data---------------
files<-list.files('./csse_covid_19_data/csse_covid_19_daily_reports_us/',
pattern='.csv',full.names = TRUE)
files
usData<-fread(files[1])
View(usData)
usData<-data.frame()
for(i in files){
inData<-fread(files[i])
usData<-usData %>% bind_rows(inData)
}
files
usData<-data.frame()
for(i in files){
inData<-fread(files[i])
usData<-usData %>% bind_rows(inData)
}
#Testing
i<-2
#Testing
i<-files[2]
inData<-fread(files[i])
#Testing
i<-1
inData<-fread(files[i])
usData<-data.frame()
for(i in 1:length(files)){
#Testing
#i<-1
####
inData<-fread(files[i])
usData<-usData %>% bind_rows(inData)
}
#Shape into long format
usDataL<-usData %>%
gather(Parameter,Result,6:ncol(usData))
View(usDataL)
unique(usDataL$Parameter)
#Shape into long format
usDataL<-usData %>%
gather(Parameter,Result,6:ncol(usData)) %>%
mutate(
Date = as.Date(Last_Update,format="%Y-%m-%d %H:%M:%S")
)
#Shape into long format
usDataL<-usData %>%
gather(Parameter,Result,6:ncol(usData)) %>%
mutate(
Date = as.Date(Last_Update,format="%Y-%m-%d %H:%M:%S")
)
cdata<-usDataL %>% filter(Parameter == 'Confirmed')
ddata<-usDataL %>% filter(Parameter == 'Deaths')
names(cdata)
View(cdata)
#Shape into long format
usDataL<-usData %>%
gather(Parameter,Result,6:ncol(usData)) %>%
mutate(
Date = as.Date(Last_Update,format="%Y-%m-%d %H:%M:%S")
) %>%
filter(!is.na(Lat))
#Shape into long format
usDataL<-usData %>%
gather(Parameter,Result,6:ncol(usData)) %>%
mutate(
Date = as.Date(Last_Update,format="%Y-%m-%d %H:%M:%S"),
Result = as.numeric(Result)
) %>%
filter(!is.na(Lat))
?addCircles
cdata<-usDataL %>% filter(Parameter == 'Confirmed') %>%
group_by(Province_State,Lat,Long_) %>%
summarize(Result = max(Result))
View(cdata)
ggplot(usDataL,aes(Date,Result,color=Province_State))+
geom_line()
ggplot(usDataL,aes(Date,Result,color=Province_State))+
geom_line()+
theme(legend=NULL)
ggplot(usDataL,aes(Date,Result,color=Province_State))+
geom_line()+
theme(legend.position='None')
options(scipen = 6)
unique(usDataL$Parameter)
gdata<-usDataL %>%
filter(Parameter=='Confirmed')
gdata<-usDataL %>%
filter(Parameter=='Confirmed')
ggplot(gdata,aes(Date,Result,color=Province_State))+
geom_line()+
theme(legend.position='None')
library(plotly)
gdata<-usDataL %>%
filter(Parameter=='Confirmed')
g<-ggplot(gdata,aes(Date,Result,color=Province_State))+
geom_line(color='gray')+
theme(legend.position='None')
ggplotly(g)
gdata<-usDataL %>%
filter(Parameter=='Confirmed')
g<-ggplot(gdata,aes(Date,Result,color=Province_State))+
geom_line()+
theme(legend.position='None')+
scale_color_manual(values = rep('gray',length(unique(Province_State))))
gdata<-usDataL %>%
filter(Parameter=='Confirmed')
n<-length(uniquegdata$Province_State)
gdata<-usDataL %>%
filter(Parameter=='Confirmed')
n<-length(unique(gdata$Province_State))
g<-ggplot(gdata,aes(Date,Result,color=Province_State))+
geom_line()+
theme(legend.position='None')+
scale_color_manual(values = rep('grey',n))
g
?ggplotly
download.file('https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv',
destfile = 'C:\Power_BI\data\covidTS.csv')
download.file('https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv',
destfile = 'C:/Power_BI/data/covidTS.csv')
?download.file
download.file('https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv',
destfile = 'C:/Power_BI/data/covidTS.csv',mode='wb')
download.file('https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv',
destfile = 'C:/Power_BI/data/covidTS.csv',mode='wb')
library(RCurl)
install.packages('RCurl')
library(RCurl)
library(RCurl)
x <- getURL("https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv")
x <- getURL("https://github.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv")
x <- getURL("http://github.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv")
y <- read.csv(text = x)
library(RCurl)
x <- getURL("http://github.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv")
?getURL
